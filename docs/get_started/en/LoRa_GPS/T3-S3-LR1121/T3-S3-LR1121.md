---
title: LILYGO T3-S3 LR1121
show_source: false
tags: ESP32-S3, LR1121, LoRa, Dual-Band, OLED, IoT
---

<div style="width:100%; display:flex;justify-content: center;">

![T3-S3 LR1121](./assets/T3-S3-LR1121-1.jpg)

</div>

<div style="padding: 1em 0 0 0; display: flex; justify-content: center">
    <a target="_blank" style="margin: 1em;color: white; font-size: 0.9em; border-radius: 0.3em; padding: 0.5em 2em; background-color:rgb(63, 201, 28)" href="https://lilygo.cc/products/t3-s3-lr1121">Official Store</a>
</div>

## Version History
| Version | Update date | Update description |
| :-----: | :---------: | :----------------- |
| T3-S3-LR1121_V1.3 | 2024-03-25 | Initial hardware version |
| T3-S3-LR1121_V1.4 | 2024-06-18 | Software optimization update |

## Purchase Links
| Product | SOC | FLASH | PSRAM | Link |
| :-----: | :-: | :---: | :---: | :--: |
| T3-S3 LR1121 | ESP32-S3 | 4MB | 2MB | [LILYGO Store](https://lilygo.cc/products/t3-s3-lr1121) |

## Table of Contents
- [Description](#description)
- [Preview](#preview)
- [Modules](#modules)
- [Quick Start](#quick-start)
- [Pin Overview](#pin-overview)
- [Related Tests](#related-tests)
- [FAQ](#faq)
- [Projects](#projects)
- [Resources](#resources)
- [Dependent Libraries](#dependent-libraries)

## Description

LILYGO T3-S3 LR1121 is a highly integrated IoT development board based on ESP32-S3, supporting dual-band LoRa communication at 2.4GHz and 830-945MHz, covering long-distance transmission requirements (10km+), and compatible with spectrum regulations in different regions worldwide. The onboard 1.3-inch OLED screen displays data in real-time, equipped with a TF card slot for storage expansion, and a Type-C interface simplifies power supply and debugging. It provides abundant GPIO pins (supporting ADC, SPI, I2C, and other protocols), allowing flexible connection of sensors or peripherals. Combined with Wi-Fi/Bluetooth 5.0, it enables multi-protocol interconnection. Suitable for smart agriculture monitoring, industrial equipment management, emergency communication networks, and smart home gateways, it balances low-power design with a compact structure, making it an ideal hardware platform for efficiently building IoT systems.

## Preview

### Physical Image

<div style="width:100%; display:flex;justify-content: center;">

![T3-S3 LR1121](./assets/T3-S3-LR1121-2.jpg)

</div>

### Pin Diagram

<img src="./assets/T3-S3-LR1121-3.jpg" alt="summary" width=100%>

## Modules

### MCU
* Chip: ESP32-S3FH4R2
* PSRAM: 2MB (QSPI PSRAM)
* FLASH: 4MB
* Wireless: 2.4GHz Wi-Fi + Bluetooth 5.0

### Display
* Size: 1.3-inch OLED display
* Interface: I2C
* Driver: Standard OLED driver

### Wireless Communication
* LoRa Chip: LR1121
* Frequency Band: 830-945MHz + 2.4GHz dual-band
* Communication Distance: 10km+ (ideal conditions)

### Power Management
* RTC: PCF85063ATL Real-time Clock
* Power Supply: 5V/500mA
* Battery Interface: 1.25mm battery interface

### Overview

| Component | Description |
| :--: | :--: |
| MCU | ESP32-S3FH4R2 Dual-core LX7 |
| FLASH| 4MB |
| PSRAM | 2MB|
| Display | 1.3-inch I2C OLED |
| LoRa | LR1121 Dual-band (830-945MHz + 2.4GHz) |
| RTC | PCF85063ATL Real-time Clock (I2C) |
| Storage | TF Card Expansion |
| Wireless | 2.4GHz Wi-Fi + Bluetooth 5.0 |
| USB | 1 √ó USB Port (TYPE-C) |
| Expansion Interface | 2 √ó QWIIC Interface |
| GPIO Interface | 2.54mm Pitch 2√ó20 Expansion IO Interface |
| Battery Interface | 1.25mm Battery Interface |
| Buttons | 1 x RESET Button + 1 x BOOT Button |
| Power Input | 5V/500mA |
| Mounting Holes | 2 √ó 2mm Positioning Holes |
| Dimensions | 66 √ó 27 √ó 15 mm |

## Quick Start

### Example Support

| Example | PlatformIO/Arduino | ESP-IDF | Description |
| :------ | :----------------: | :-----: | :---------- |
| [LR1121_DualBand](https://github.com/Xinyuan-LilyGO/LilyGo-LoRa-Series/tree/main/examples/LR1121_DualBand) | ‚úì | | LR1121 Dual-band Communication Example |
| [OLED_Display](https://github.com/Xinyuan-LilyGO/LilyGo-LoRa-Series/tree/main/examples/OLED_Display) | ‚úì | | OLED Display Example |
| [RTC_Clock](https://github.com/Xinyuan-LilyGO/LilyGo-LoRa-Series/tree/main/examples/RTC_Clock) | ‚úì | | Real-time Clock Example |
| [SD_Card](https://github.com/Xinyuan-LilyGO/LilyGo-LoRa-Series/tree/main/examples/SD_Card) | ‚úì | | SD Card Read/Write Example |
| [Multi_Protocol](https://github.com/Xinyuan-LilyGO/LilyGo-LoRa-Series/tree/main/examples/Multi_Protocol) | ‚úì | | Multi-protocol Communication Example |

### PlatformIO

1.  Install [Visual Studio Code](https://code.visualstudio.com/) and [Python](https://www.python.org/)
2.  Search for the `PlatformIO` extension in `Visual Studio Code` and install it
3.  After installation, restart `Visual Studio Code`
4.  After restarting, select `File` -> `Open Folder` in the top left corner -> choose the `LilyGo-LoRa-Series` directory
5.  Wait for third-party dependency libraries to install
6.  Click to open the `platformio.ini` file, under the `platformio` section
7.  Select the development board name you want to use under `default_envs` and uncomment it
8.  Uncomment one line of `src_dir = xxxx`, ensuring only one line is active. Please note the example comments which explain which features are available and which are not.
9.  Click the (‚úî) symbol at the bottom left to compile
10. Connect the development board to the computer using a USB-C cable (Micro-USB interface is for module firmware upgrade)
11. Click (‚Üí) to upload the firmware
12. Click (plug symbol) to monitor serial output
13. If unable to upload or USB device keeps blinking, please check the **FAQ** below

### Arduino
1. Install [Arduino IDE](https://www.arduino.cc/en/software)
2. Install [Arduino ESP32](https://docs.espressif.com/projects/arduino-esp32/en/latest/)
3. Copy all folders in the `lib` directory to the `Sketchbook location` directory. To find the library location, [refer here](https://support.arduino.cc/hc/en-us/articles/4415103213714-Find-sketches-libraries-board-cores-and-other-files-on-your-computer)
    * Windows: `C:\Users\{username}\Documents\Arduino`
    * macOS: `/Users/{username}/Documents/Arduino`
    * Linux: `/home/{username}/Arduino`
4. Open the corresponding example
    * Open the downloaded `LilyGo-LoRa-Series` folder
    * Open the `examples` folder
    * Select the example file and open the file with the `ino` extension
5. Select the corresponding development board model in the Arduino IDE Tools menu, click the corresponding option in the list below to select

    | Name                                 | Value                                                |
    | ------------------------------------ | ---------------------------------------------------- |
    | Board                                | **LilyGo T3-S3**                                     |
    | Port                                 | Your port                                            |
    | USB CDC On Boot                      | Enable                                               |
    | CPU Frequency                        | 240MHZ(WiFi)                                         |
    | Core Debug Level                     | None                                                 |
    | USB DFU On Boot                      | Disable                                              |
    | Erase All Flash Before Sketch Upload | Disable                                              |
    | Events Run On                        | Core1                                                |
    | Arduino Runs On                      | Core1                                                |
    | USB Firmware MSC On Boot             | Disable                                              |
    | Partition Scheme                     | **Default 4MB with spiffs (1.2MB APP/1.5MB SPIFFS)** |
    | PSRAM                                | **QSPI PSRAM**                                       |
    | **Board Revision***                  | **Radio-LR1121**                                     |
    | Upload Mode                          | **UART0/Hardware CDC**                               |
    | Upload Speed                         | 921600                                               |
    | USB Mode                             | **CDC and JTAG**                                     |
    | Programmer                           | **Esptool**                                          |
     * **Board Revision please select according to the actual model**

6. Upload the program

### Development Platforms
1. [Micropython](https://micropython.org/)
2. [Arduino IDE](https://www.arduino.cc/en/software)
3. [Platform IO](https://platformio.org/)
4. [VS Code](https://code.visualstudio.com/)

## Pin Overview
| Name                   | GPIO NUM                  | Free |
| ---------------------- | ------------------------- | ---- |
| (QWIIC) Uart1 TX       | 43(External QWIIC Socket) | ‚úÖÔ∏è    |
| (QWIIC) Uart1 RX       | 44(External QWIIC Socket) | ‚úÖÔ∏è    |
| QWIIC Socket IO10*     | 10(External QWIIC Socket) | ‚úÖÔ∏è    |
| QWIIC Socket IO21*     | 21(External QWIIC Socket) | ‚úÖÔ∏è    |
| SDA                    | 18                        | ‚ùå    |
| SCL                    | 17                        | ‚ùå    |
| OLED(**SSD1306**) SDA  | Share with I2C bus        | ‚ùå    |
| OLED(**SSD1306**) SCL  | Share with I2C bus        | ‚ùå    |
| SD CS                  | 13                        | ‚ùå    |
| SD MOSI                | 11                        | ‚ùå    |
| SD MISO                | 2                         | ‚ùå    |
| SD SCK                 | 14                        | ‚ùå    |
| LoRa(**LR1121**) SCK   | 5                         | ‚ùå    |
| LoRa(**LR1121**) MISO  | 3                         | ‚ùå    |
| LoRa(**LR1121**) MOSI  | 6                         | ‚ùå    |
| LoRa(**LR1121**) RESET | 8                         | ‚ùå    |
| LoRa(**LR1121**) DIO9  | 36                        | ‚ùå    |
| LoRa(**LR1121**) BUSY  | 34                        | ‚ùå    |
| LoRa(**LR1121**) CS    | 7                         | ‚ùå    |
| Button1 (BOOT)         | 0                         | ‚ùå    |
| Battery ADC            | 1                         | ‚ùå    |
| On Board LED           | 37                        | ‚ùå    |

### Communication Performance
| Frequency Band | Communication Distance | Data Rate | 
| :------: | :--------: | :--: | 
| 830-945MHz | 10km+ | 0.3-50 kbps | 
| 2.4GHz | 2km+ | 0.3-50 kbps | 

| Features                           | Details  |
| ---------------------------------- | -------- |
| üîóUSB-C Input Voltage               | 5V       |
| üîóSolar Input Voltage(T3 V1.3 Only) | 4.5~5.6V |
| ‚ö°Charge Current                    | 500mA    |
| üîãBattery Voltage                   | 3.7V     |
| üîãBattery Socket Cables             | PH2.0mm  |
| üîóQWIIC Socket Cables               | JST1.0   |

| Features                  | Details                            |
| ------------------------- | ---------------------------------- |
| RF  Module                | LR1121                             |
| Frequency range           | 400-520MHz/830-945MHz/2400-2500MHz |
| Transfer rate(LoRa Sub1G) | 0.018 K ÔΩû 62.5 Kbps               |
| Transfer rate(FSK Sub1G)  | 0.6 K ÔΩû 300 Kbps                  |
| Transfer rate(LoRa 2.4G)  | 0.476 K~101.5 Kbps                 |
| Modulation                | LoRa,FSK,LR-HFSS                   |

## FAQ

* **Q. How to adjust the external antenna resistor?**  
  A. Refer to the image below to adjust the resistor direction for the external antenna:
  <img src="./assets/T3-S3-LR1121-4.jpg" alt="Antenna Resistor Adjustment" width=60%>

* **Q. What advantages does LR1121 have over traditional LoRa chips?**  
  A. LR1121 supports dual-band (Sub-GHz + 2.4GHz), providing greater deployment flexibility and better anti-interference capability.

* **Q. Can dual bands work simultaneously?**  
  A. LR1121 supports band switching but cannot transmit and receive data on different bands simultaneously.

* **Q. What factors affect communication distance?**  
  A. Communication distance is affected by environmental obstacles, antenna gain, transmission power, data rate, and other factors.

* **Q. Why does my board fail to upload programs?**  
  A. Please hold down the "BOOT" button and press the "RST" button simultaneously, then release the "RST" button to enter download mode, and try uploading the program again.

## Projects
* [T3-S3-LR1121_V1.3](https://github.com/Xinyuan-LilyGO/LilyGo-LoRa-Series/blob/master/schematic/T3_S3_V1.3.pdf)

## Resources
* [LR1121 Datasheet](https://www.semtech.com/products/wireless-rf/lora-connect/lr1121)
* [ESP32-S3 Datasheet](https://www.espressif.com/sites/default/files/documentation/esp32-s3_datasheet_en.pdf)
* [PCF85063ATL Datasheet](https://www.nxp.com/products/analog-and-mixed-signal/real-time-clocks/rtcs-with-ic-bus/tiny-real-time-clock-calendar-with-alarm-function-and-ic-bus:PCF85063A)

## Dependent Libraries
* [u8g2](https://github.com/olikraus/u8g2)
* [XPowersLib](https://github.com/lewisxhe/XPowersLib)
* [LoRa](https://github.com/sandeepmistry/arduino-LoRa)
* [RadioLib](https://github.com/jgromes/RadioLib)