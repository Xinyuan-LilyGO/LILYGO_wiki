---
title: LILYGO T3-S3 LR1121
show_source: false
tags: ESP32-S3, LR1121, LoRa, Dual-Band, OLED, IoT
---

<div style="width:100%; display:flex;justify-content: center;">

![T3-S3 LR1121](./assets/T3-S3-LR1121-1.jpg)

</div>

<div style="padding: 1em 0 0 0; display: flex; justify-content: center">
    <a target="_blank" style="margin: 1em;color: white; font-size: 0.9em; border-radius: 0.3em; padding: 0.5em 2em; background-color:rgb(63, 201, 28)" href="https://lilygo.cc/products/t3-s3-lr1121">官网购买</a>
</div>

## 版本迭代
| Version | Update date | Update description |
| :-----: | :---------: | :----------------- |
| T3-S3-LR1121_V1.3 | 2024-03-25 | 初始硬件版本 |
| T3-S3-LR1121_V1.4 | 2024-06-18 | 软件优化更新 |

## 购买链接
| Product | SOC | FLASH | PSRAM | Link |
| :-----: | :-: | :---: | :---: | :--: |
| T3-S3 LR1121 | ESP32-S3 | 4MB | 2MB | [LILYGO Store](https://lilygo.cc/products/t3-s3-lr1121) |

## 目录
- [描述](#描述)
- [预览](#预览)
- [模块](#模块)
- [快速开始](#快速开始)
- [引脚总览](#引脚总览)
- [相关测试](#相关测试)
- [常见问题](#常见问题)
- [项目](#项目)
- [资料](#资料)
- [依赖库](#依赖库)

## 描述

LILYGO T3-S3 LR1121 是一款基于 ESP32-S3 的高集成物联网开发板，支持 2.4GHz 与 830-945MHz 双频段 LoRa 通信，覆盖远距离传输需求（10km+），兼容全球不同地区频谱规范。板载 1.3 英寸 OLED 屏实时显示数据，配备 TF 卡槽扩展存储，Type-C 接口简化供电与调试。提供丰富 GPIO 引脚（支持 ADC、SPI、I2C 等协议），可灵活连接传感器或外设，结合 Wi-Fi/蓝牙 5.0 实现多协议互联。适用于智慧农业监测、工业设备管理、应急通信组网及智能家居网关等场景，兼顾低功耗设计与紧凑结构，是高效搭建物联网系统的理想硬件平台。

## 预览

### 实物图

<div style="width:100%; display:flex;justify-content: center;">

![T3-S3 LR1121](./assets/T3-S3-LR1121-2.jpg)

</div>

### 引脚图

<img src="./assets/T3-S3-LR1121-3.jpg" alt="summary" width=100%>

## 模块

### MCU
* 芯片：ESP32-S3FH4R2
* PSRAM：2MB (QSPI PSRAM)
* FLASH：4MB
* 无线：2.4GHz Wi-Fi + Bluetooth 5.0

### 屏幕
* 尺寸：1.3英寸OLED屏幕
* 接口：I2C
* 驱动：标准OLED驱动

### 无线通信
* LoRa芯片：LR1121
* 频段：830-945MHz + 2.4GHz双频段
* 通信距离：10km+（理想条件）

### 电源管理
* RTC：PCF85063ATL 实时时钟
* 供电：5V/500mA
* 电池接口：1.25mm电池接口

### 概述

| 组件 | 描述 |
| :--: | :--: |
| MCU | ESP32-S3FH4R2 Dual-core LX7 |
| FLASH| 4MB |
| PSRAM | 2MB|
| 屏幕 | 1.3英寸 I2C OLED |
| LoRa | LR1121 双频段 (830-945MHz + 2.4GHz) |
| RTC | PCF85063ATL 实时时钟 (I2C) |
| 存储 | TF 卡扩展 |
| 无线 | 2.4GHz Wi-Fi + Bluetooth 5.0 |
| USB | 1 × USB Port (TYPE-C接口) |
| 扩展接口 | 2 × QWIIC 接口 |
| GPIO接口 | 2.54mm间距 2×20 扩展IO接口 |
| 电池接口 | 1.25mm 电池接口 |
| 按键 | 1 x RESET 按键 + 1 x BOOT 按键 |
| 电源输入 | 5V/500mA |
| 安装孔 | 2 × 2mm 定位孔 |
| 尺寸 | 66 × 27 × 15 mm |

## 快速开始

### 示例支持

| Example | PlatformIO/Arduino | ESP-IDF | Description |
| :------ | :----------------: | :-----: | :---------- |
| [LR1121_DualBand](https://github.com/Xinyuan-LilyGO/LilyGo-LoRa-Series/tree/main/examples/LR1121_DualBand) | ✓ | | LR1121双频段通信示例 |
| [OLED_Display](https://github.com/Xinyuan-LilyGO/LilyGo-LoRa-Series/tree/main/examples/OLED_Display) | ✓ | | OLED显示示例 |
| [RTC_Clock](https://github.com/Xinyuan-LilyGO/LilyGo-LoRa-Series/tree/main/examples/RTC_Clock) | ✓ | | 实时时钟示例 |
| [SD_Card](https://github.com/Xinyuan-LilyGO/LilyGo-LoRa-Series/tree/main/examples/SD_Card) | ✓ | | SD卡读写示例 |
| [Multi_Protocol](https://github.com/Xinyuan-LilyGO/LilyGo-LoRa-Series/tree/main/examples/Multi_Protocol) | ✓ | | 多协议通信示例 |

### PlatformIO

1.  安装 [Visual Studio Code](https://code.visualstudio.com/) 和 [Python](https://www.python.org/)
2.  在 `Visual Studio Code` 的扩展中搜索 `PlatformIO` 插件并安装
3.  安装完成后，需要重启 `Visual Studio Code`
4.  重启后，在左上角选择 `文件` -> `打开文件夹` -> 选择 `LilyGo-LoRa-Series` 目录
5.  等待第三方依赖库安装完成
6.  点击打开 `platformio.ini` 文件，在 `platformio` 栏目中
7.  在 `default_envs` 下选择您要使用的开发板名称，并取消其注释
8.  取消其中一行 `src_dir = xxxx` 的注释，确保只有一行生效。请注意示例注释，其中说明了哪些功能可用、哪些不可用。
9.  点击左下角的 (✔) 符号进行编译
10. 使用 USB-C 数据线将开发板连接至电脑（Micro-USB 接口用于模块固件升级）
11. 点击 (→) 上传固件
12. 点击 (插头符号) 监视串行输出
13. 若无法烧录或 USB 设备持续闪烁，请查看下方的**常见问题解答**

### Arduino
1. 安装 [Arduino IDE](https://www.arduino.cc/en/software)
2. 安装 [Arduino ESP32](https://docs.espressif.com/projects/arduino-esp32/en/latest/)
3. 将 `lib` 目录中的所有文件夹复制到 `Sketchbook location` 目录中。如何查找库文件位置，[请参阅此处](https://support.arduino.cc/hc/en-us/articles/4415103213714-Find-sketches-libraries-board-cores-and-other-files-on-your-computer)
    * Windows: `C:\Users\{用户名}\Documents\Arduino`
    * macOS: `/Users/{用户名}/Documents/Arduino`
    * Linux: `/home/{用户名}/Arduino`
4. 打开相应示例
    * 打开已下载的 `LilyGo-LoRa-Series` 文件夹
    * 打开 `examples` 文件夹
    * 选择示例文件并打开后缀为 `ino` 的文件
5. 在 Arduino IDE 工具菜单中选择对应开发板型号，点击下方列表中的对应选项进行选择

    | Name                                 | Value                                                |
    | ------------------------------------ | ---------------------------------------------------- |
    | Board                                | **LilyGo T3-S3**                                     |
    | Port                                 | Your port                                            |
    | USB CDC On Boot                      | Enable                                               |
    | CPU Frequency                        | 240MHZ(WiFi)                                         |
    | Core Debug Level                     | None                                                 |
    | USB DFU On Boot                      | Disable                                              |
    | Erase All Flash Before Sketch Upload | Disable                                              |
    | Events Run On                        | Core1                                                |
    | Arduino Runs On                      | Core1                                                |
    | USB Firmware MSC On Boot             | Disable                                              |
    | Partition Scheme                     | **Default 4MB with spiffs (1.2MB APP/1.5MB SPIFFS)** |
    | PSRAM                                | **QSPI PSRAM**                                       |
    | **Board Revision***                  | **Radio-LR1121**                                     |
    | Upload Mode                          | **UART0/Hardware CDC**                               |
    | Upload Speed                         | 921600                                               |
    | USB Mode                             | **CDC and JTAG**                                     |
    | Programmer                           | **Esptool**                                          |
     * **开发板版本请根据实际型号选择**

6. 上传程序
### 开发平台
1. [Micropython](https://micropython.org/)
2. [Arduino IDE](https://www.arduino.cc/en/software)
3. [Platform IO](https://platformio.org/)
4. [VS Code](https://code.visualstudio.com/)

## 引脚总览
| Name                   | GPIO NUM                  | Free |
| ---------------------- | ------------------------- | ---- |
| (QWIIC) Uart1 TX       | 43(External QWIIC Socket) | ✅️    |
| (QWIIC) Uart1 RX       | 44(External QWIIC Socket) | ✅️    |
| QWIIC Socket IO10*     | 10(External QWIIC Socket) | ✅️    |
| QWIIC Socket IO21*     | 21(External QWIIC Socket) | ✅️    |
| SDA                    | 18                        | ❌    |
| SCL                    | 17                        | ❌    |
| OLED(**SSD1306**) SDA  | Share with I2C bus        | ❌    |
| OLED(**SSD1306**) SCL  | Share with I2C bus        | ❌    |
| SD CS                  | 13                        | ❌    |
| SD MOSI                | 11                        | ❌    |
| SD MISO                | 2                         | ❌    |
| SD SCK                 | 14                        | ❌    |
| LoRa(**LR1121**) SCK   | 5                         | ❌    |
| LoRa(**LR1121**) MISO  | 3                         | ❌    |
| LoRa(**LR1121**) MOSI  | 6                         | ❌    |
| LoRa(**LR1121**) RESET | 8                         | ❌    |
| LoRa(**LR1121**) DIO9  | 36                        | ❌    |
| LoRa(**LR1121**) BUSY  | 34                        | ❌    |
| LoRa(**LR1121**) CS    | 7                         | ❌    |
| Button1 (BOOT)         | 0                         | ❌    |
| Battery ADC            | 1                         | ❌    |
| On Board LED           | 37                        | ❌    |



### 通信性能
| 频段 | 通信距离 | 数据速率 | 
| :------: | :--------: | :--: | 
| 830-945MHz | 10km+ | 0.3-50 kbps | 
| 2.4GHz | 2km+ | 0.3-50 kbps | 

| Features                           | Details  |
| ---------------------------------- | -------- |
| 🔗USB-C Input Voltage               | 5V       |
| 🔗Solar Input Voltage(T3 V1.3 Only) | 4.5~5.6V |
| ⚡Charge Current                    | 500mA    |
| 🔋Battery Voltage                   | 3.7V     |
| 🔋Battery Socket Cables             | PH2.0mm  |
| 🔗QWIIC Socket Cables               | JST1.0   |

| Features                  | Details                            |
| ------------------------- | ---------------------------------- |
| RF  Module                | LR1121                             |
| Frequency range           | 400-520MHz/830-945MHz/2400-2500MHz |
| Transfer rate(LoRa Sub1G) | 0.018 K ～ 62.5 Kbps               |
| Transfer rate(FSK Sub1G)  | 0.6 K ～ 300 Kbps                  |
| Transfer rate(LoRa 2.4G)  | 0.476 K~101.5 Kbps                 |
| Modulation                | LoRa,FSK,LR-HFSS                   |

## 常见问题

* **Q. 如何调节外接天线电阻？**  
  A. 参考下图调整电阻方向实现调节外接天线的电阻：
  <img src="./assets/T3-S3-LR1121-4.jpg" alt="天线电阻调节" width=60%>

* **Q. LR1121相比传统LoRa芯片有什么优势？**  
  A. LR1121支持双频段（Sub-GHz + 2.4GHz），提供更大的部署灵活性和更好的抗干扰能力。

* **Q. 双频段可以同时工作吗？**  
  A. LR1121支持频段切换，但不能同时在不同频段收发数据。

* **Q. 通信距离受哪些因素影响？**  
  A. 通信距离受环境障碍物、天线增益、发射功率、数据速率等因素影响。

* **Q. 为什么我的板子烧录失败？**  
  A. 请按住"BOOT"按键同时按"RST"按键，然后释放"RST"按键，进入下载模式后重新下载程序。

## 项目
* [T3-S3-LR1121_V1.3](https://github.com/Xinyuan-LilyGO/LilyGo-LoRa-Series/blob/master/schematic/T3_S3_V1.3.pdf)

## 资料
* [LR1121 Datasheet](https://www.semtech.com/products/wireless-rf/lora-connect/lr1121)
* [ESP32-S3 Datasheet](https://www.espressif.com/sites/default/files/documentation/esp32-s3_datasheet_en.pdf)
* [PCF85063ATL Datasheet](https://www.nxp.com/products/analog-and-mixed-signal/real-time-clocks/rtcs-with-ic-bus/tiny-real-time-clock-calendar-with-alarm-function-and-ic-bus:PCF85063A)

## 依赖库
* [u8g2](https://github.com/olikraus/u8g2)
* [XPowersLib](https://github.com/lewisxhe/XPowersLib)
* [LoRa](https://github.com/sandeepmistry/arduino-LoRa)
* [RadioLib](https://github.com/jgromes/RadioLib)